(this.webpackJsonpwebapp=this.webpackJsonpwebapp||[]).push([[0],Array(47).concat([function(e,t,n){},,,,,,,,,,,,,,,,,,,function(e,t,n){},,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var a=n(1),c=n.n(a),s=n(15),i=n.n(s),r=n(14),o=n(21),l=(n(47),n(7)),j=n(5),u=n(3),d=n(0),b=Object(a.createContext)(),h=function(e){var t=Object(a.useState)(null!==localStorage.getItem("TOKEN")),n=Object(u.a)(t,2),c={isAuthenticated:n[0],setIsAuthenticated:n[1]};return Object(d.jsx)(b.Provider,{value:c,children:e.children})},O=b,m=Object(a.createContext)(),p=function(e){var t=Object(a.useState)({watch:[],watching:[],watched:[]}),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)({watch:[],watching:[],watched:[]}),r=Object(u.a)(i,2),o={animeList:c,setAnimeList:s,mangaList:r[0],setMangaList:r[1]};return Object(d.jsx)(m.Provider,{value:o,children:e.children})},x=m,f=n(6),v=n.n(f),g=v.a.create({baseURL:"https://api.jikan.moe/v3/"});n(66);var N=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(j.h)();return Object(a.useEffect)((function(){var t="NavLink";i.pathname.includes(e.path)&&(t="".concat(t," ").concat(t,"--active")),s(t)}),[i.pathname,e.path]),Object(d.jsx)(l.b,{className:c,to:e.path,children:e.title})},w=n(36),I=n(37),y=n(40),S=n(39),C=(n(71),function(e){Object(y.a)(n,e);var t=Object(S.a)(n);function n(){return Object(w.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"render",value:function(){return Object(d.jsx)("ul",{className:"AccountOptions",children:Object(d.jsx)("li",{className:"AccountOptions-item",children:Object(d.jsx)(l.b,{to:"/logout",children:"Logout"})})})}}]),n}(c.a.Component));C.contextType=O;var A=Object(j.i)(C);n(72);var k=function(e){return Object(d.jsx)("div",{className:"Navbar",children:Object(d.jsxs)("div",{className:"NavbarInner",children:[Object(d.jsx)("a",{className:"NavbarHeader",href:"/",children:"Project Otaku"}),Object(d.jsxs)("ul",{className:"NavbarNav",children:[Object(d.jsx)("li",{className:"NavbarNav-item",children:Object(d.jsx)(N,{path:"/watchlist",title:"Watchlist"})}),Object(d.jsx)("li",{className:"NavbarNav-item",children:Object(d.jsx)(N,{path:"/browse",title:"Browse"})})]}),Object(d.jsx)(A,{})]})})};n(73);var T=function(e){return Object(d.jsx)("div",{className:"MainContent",children:e.children})};n(74);var B=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(j.h)();return Object(a.useEffect)((function(){var t="WatchlistTypeLink";i.pathname===e.path&&(t="".concat(t," ").concat(t,"--active")),s(t)}),[i.pathname,e.path]),Object(d.jsx)(l.b,{className:c,to:e.path,children:e.title})};n(75);var _=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],s=n[1];return Object(a.useEffect)((function(){for(var e=document.getElementsByClassName("KanbanList"),t=0;t<e.length;t++){e[t].childNodes.forEach((function(e){-1===e.textContent.toLowerCase().indexOf(c.toLowerCase())?e.style.display="none":e.style.display="flex"}))}}),[c]),Object(d.jsxs)("div",{className:"WatchlistSearch",children:[Object(d.jsx)("input",{className:"WatchlistSearch-input",type:"text",value:c,placeholder:"Find anime/manga in list.",onChange:function(e){s(e.target.value)}}),""!==c?Object(d.jsx)("button",{className:"WatchlistSearch-button",onClick:function(e){s("")},children:"x"}):null]})};n(76);var L=function(e){return Object(d.jsxs)("div",{className:"WatchlistHeader",children:[Object(d.jsx)(B,{path:"/watchlist/anime",title:"Anime"}),Object(d.jsx)(B,{path:"/watchlist/manga",title:"Manga"}),Object(d.jsx)(_,{})]})},K=n(12),P=n(18);n(77);var F=function(e){return Object(d.jsxs)("div",{className:"KanbanSection",children:[Object(d.jsx)("div",{className:"KanbanSectionHeader",children:Object(d.jsx)("h2",{className:"KanbanSectionHeader-title",children:e.section})}),e.children]})};n(78);var E=function(e){return Object(d.jsx)("div",Object(K.a)(Object(K.a)({className:"KanbanList",ref:e.provided.innerRef},e.provided.droppableProps),{},{children:e.children}))},W=n(20);n(79);var H=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],s=n[1],i=function(){s("shrink"),e.handleDelete(e.item)};return Object(d.jsx)(P.b,{draggableId:e.item.id.toString(),index:e.index,children:function(t){return Object(d.jsxs)("div",Object(K.a)(Object(K.a)(Object(K.a)({className:"KanbanItem KanbanItem--"+c,ref:t.innerRef},t.draggableProps),t.dragHandleProps),{},{children:[Object(d.jsx)("img",{className:"KanbanItem-image",src:e.item.image_url,alt:e.item.title}),Object(d.jsx)("p",{className:"KanbanItem-title",children:e.item.title}),Object(d.jsx)("button",{className:"KanbanItem-delete",title:"Remove Item",onClick:i,children:Object(d.jsx)(W.a,{icon:"trash"})}),Object(d.jsx)("p",{className:"KanbanItem-index",children:e.index})]}))}})};n(81);var M=function(e){return Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("div",{className:"KanbanItemPlaceholder"}),Object(d.jsx)("div",{className:"KanbanItemPlaceholder"}),Object(d.jsx)("div",{className:"KanbanItemPlaceholder"}),Object(d.jsx)("div",{className:"KanbanItemPlaceholder"})]})};n(82);var q=function(e){var t=Object(j.g)(),n=function(n){var a=Object(K.a)({},e.list),c=a[n.status].findIndex((function(e){return e.id===n.id})),s=a[n.status][c-1],i=a[n.status][c+1];if(s){s.next_item_id=i?i.id:null;var r={Authorization:"Token ".concat(localStorage.getItem("TOKEN"))};v.a.put("/api/watchlist/".concat(s.id,"/"),s,{headers:r}).catch((function(e){e.response?401===e.response.status?t.push("/logout"):console.log(e.response.data):t.push("/server-error")}))}a[n.status].splice(c,1),setTimeout((function(){return e.setList(a)}),500);var o={Authorization:"Token ".concat(localStorage.getItem("TOKEN"))};v.a.delete("/api/watchlist/".concat(n.id,"/"),{headers:o}).catch((function(e){e.response?401===e.response.status?t.push("/logout"):console.log(e.response.data):t.push("/server-error")}))};return Object(d.jsx)("div",{className:"Kanban",children:Object(d.jsx)("div",{className:"KanbanWrapper",children:Object(d.jsx)(P.a,{onDragEnd:function(n){var a=n.source,c=n.destination;n.draggableId;if(c){if(a.droppableId===c.droppableId&&a.index===c.index)return;var s=Object(K.a)({},e.list),i=[],r=s[a.droppableId],o=s[c.droppableId],l=r[a.index-1],j=r[a.index+1];l&&(l.next_item_id=j?j.id:null,i.push(l));var u=r.splice(a.index,1)[0];u.status=c.droppableId,o.splice(c.index,0,u),u=o[c.index];var d=o[c.index-1],b=o[c.index+1];d&&(d.next_item_id=u?u.id:null,i.push(d)),u.next_item_id=b?b.id:null,i.push(u),e.setList(s);for(var h=0;h<i.length;h++){var O=i[h],m={Authorization:"Token ".concat(localStorage.getItem("TOKEN"))};v.a.put("/api/watchlist/".concat(O.id,"/"),O,{headers:m}).catch((function(e){e.response?401===e.response.status?t.push("/logout"):console.log(e.response.data):t.push("/server-error")}))}}},children:Object(d.jsx)("div",{className:"KanbanContent",children:["watch","watching","watched"].map((function(t,a){return Object(d.jsx)(F,{section:t,children:Object(d.jsx)(P.c,{droppableId:t,children:function(a){return Object(d.jsx)(E,{provided:a,children:e.isFetchingWatchlist?Object(d.jsx)(M,{}):Object(d.jsxs)(d.Fragment,{children:[e.list[t].map((function(e,t){return Object(d.jsx)(H,{item:e,index:t,handleDelete:n},e.id)})),a.placeholder]})})}})},a)}))})})})})};n(83);var D=function(e){var t=Object(a.useContext)(x),n=t.animeList,c=t.setAnimeList,s=t.mangaList,i=t.setMangaList;return Object(d.jsxs)("div",{className:"Watchlist",children:[Object(d.jsx)(L,{}),Object(d.jsxs)(j.d,{children:[Object(d.jsx)(j.b,{path:"/watchlist/anime",children:Object(d.jsx)(q,{list:n,setList:c,isFetchingWatchlist:e.isFetchingWatchlist})}),Object(d.jsx)(j.b,{path:"/watchlist/manga",children:Object(d.jsx)(q,{list:s,setList:i,isFetchingWatchlist:e.isFetchingWatchlist})}),Object(d.jsx)(j.b,{path:"/watchlist",children:Object(d.jsx)(j.a,{to:"/watchlist/anime"})}),Object(d.jsx)(j.b,{path:"/watchlist/*",children:Object(d.jsx)(j.a,{to:"/404"})})]})]})};n(84);var U=function(e){return Object(d.jsx)("div",{className:"BrowseHeader",children:Object(d.jsx)("h2",{className:"BrowseHeader-title",children:"Browse"})})};n(85);var z=function(e){return Object(d.jsx)("div",{className:"BrowseContent",children:e.children})};n(86);var R=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),r=Object(u.a)(i,2),o=r[0],l=r[1];return Object(d.jsxs)("form",{className:"BrowseSearchBar",onSubmit:function(t){t.preventDefault(),o!==c&&(e.search(c),l(c))},children:[Object(d.jsx)("input",{className:"BrowseSearchBar-input",type:"text",value:c,placeholder:"Search anime...",onChange:function(e){return s(e.target.value)}}),Object(d.jsx)("button",{className:"BrowseSearchBar-button",type:"submit",children:Object(d.jsx)(W.a,{icon:"search"})})]})};n(87);var J=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),r=Object(u.a)(i,2),o=r[0],l=r[1],b=Object(a.useContext)(x),h=b.animeList,O=b.setAnimeList,m=b.mangaList,p=b.setMangaList,f=Object(j.g)();if(Object(a.useEffect)((function(){var t;for(var n in"anime"===e.type?t=h:"manga"===e.type&&(t=m),t){var a=t[n].find((function(t){return t.mal_id===e.item.mal_id}));a&&(l(!0),s("Already in ".concat(a.status,".")))}}),[h,m,e.type,e.item.mal_id]),o)return Object(d.jsx)("div",{className:"AddItem",children:Object(d.jsx)("p",{className:"AddItem-text",children:c})});var g=function(t,n,a){var c,i;if("anime"===e.type)c=h,i=O;else{if("manga"!==e.type)return;c=m,i=p}var r=c[a][0],o={mal_id:n.mal_id,title:n.title,image_url:n.image_url,mal_url:n.url,type:e.type,status:a,next_item_id:r?r.id:null},j={Authorization:"Token ".concat(localStorage.getItem("TOKEN"))};v.a.post("/api/watchlist/",o,{headers:j}).then((function(e){var t=Object(K.a)({},c);t[a].unshift(e.data),i(t),l(!0),s("Added to ".concat(e.data.status))})).catch((function(e){e.response?401===e.response.status?f.push("/logout"):console.log(e.response.data):f.push("/server-error")}))};return Object(d.jsxs)("div",{className:"AddItem",children:[Object(d.jsx)("p",{className:"AddItem-text",children:"Add to:"}),Object(d.jsx)("button",{className:"AddItem-button",type:"button",onClick:function(t){return g(0,e.item,"watch")},children:"Watch"}),Object(d.jsx)("button",{className:"AddItem-button",type:"button",onClick:function(t){return g(0,e.item,"watching")},children:"Watching"}),Object(d.jsx)("button",{className:"AddItem-button",type:"button",onClick:function(t){return g(0,e.item,"watched")},children:"Watched"})]})};n(88);var G=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],s=n[1];return Object(a.useEffect)((function(){e.item.title.length>=40?s(e.item.title.substring(0,39)+"..."):s(e.item.title)}),[e.item.title]),Object(d.jsxs)("div",{className:"BrowseItem",children:[Object(d.jsx)("div",{className:"BrowseItemImage",children:Object(d.jsx)("img",{className:"BrowseItem-img",src:e.item.image_url,alt:e.item.title})}),Object(d.jsx)("div",{className:"BrowseItemDetails",children:Object(d.jsx)("a",{className:"BrowseItem-title",href:e.item.url,title:e.item.url,target:"_blank",rel:"noreferrer",children:c})}),Object(d.jsx)("div",{className:"BrowseItemOptions",children:Object(d.jsx)(J,{item:e.item,type:e.type})})]})};n(89);var Q=function(e){return Object(d.jsx)("div",{className:"BrowseList",children:e.list.map((function(t,n){return Object(d.jsx)(G,{item:t,type:e.type},n)}))})};n(90);var V=function(e){return Object(d.jsxs)("div",{className:"BrowseList",children:[Object(d.jsx)("div",{className:"BrowseItemPlaceholder"}),Object(d.jsx)("div",{className:"BrowseItemPlaceholder"}),Object(d.jsx)("div",{className:"BrowseItemPlaceholder"}),Object(d.jsx)("div",{className:"BrowseItemPlaceholder"}),Object(d.jsx)("div",{className:"BrowseItemPlaceholder"}),Object(d.jsx)("div",{className:"BrowseItemPlaceholder"}),Object(d.jsx)("div",{className:"BrowseItemPlaceholder"}),Object(d.jsx)("div",{className:"BrowseItemPlaceholder"}),Object(d.jsx)("div",{className:"BrowseItemPlaceholder"}),Object(d.jsx)("div",{className:"BrowseItemPlaceholder"})]})};n(91);var X=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)([]),r=Object(u.a)(i,2),o=r[0],l=r[1],j=Object(a.useState)(!1),b=Object(u.a)(j,2),h=b[0],O=b[1],m=Object(a.useState)(!1),p=Object(u.a)(m,2),x=p[0],f=p[1],v=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsx)("h3",{children:"Airing"}),Object(d.jsx)(Q,{list:e.airingAnime,type:"anime"})]});return x&&(v=Object(d.jsxs)(d.Fragment,{children:[Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Anime"}),Object(d.jsx)(Q,{list:c.slice(0,10),type:"anime"})]}),Object(d.jsxs)("div",{children:[Object(d.jsx)("h3",{children:"Manga"}),Object(d.jsx)(Q,{list:o.slice(0,10),type:"manga"})]})]})),Object(d.jsxs)("div",{className:"Browse",children:[Object(d.jsx)(U,{}),Object(d.jsxs)(z,{children:[Object(d.jsx)(R,{search:function(e){f(!0),O(!0);var t=!0,n=!0;g.get("search/anime?q=".concat(e)).then((function(e){s(e.data.results)})).catch((function(e){console.log(e)})).finally((function(){(t=!1)||n||O(!1)})),g.get("search/manga?q=".concat(e)).then((function(e){l(e.data.results.filter((function(e){return"Manga"===e.type||"Manhwa"===e.type})))})).catch((function(e){console.log(e)})).finally((function(){n=!1,t||n||O(!1)}))}}),h||e.isFetchingAiringAnime?Object(d.jsx)(V,{}):v]})]})};n(92);var Y=function(e){var t=Object(a.useState)(!1),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(!1),r=Object(u.a)(i,2),o=r[0],l=r[1],b=Object(a.useState)([]),h=Object(u.a)(b,2),m=h[0],p=h[1],f=Object(a.useContext)(O).isAuthenticated,N=Object(a.useContext)(x),w=N.setAnimeList,I=N.setMangaList,y=Object(j.g)();return Object(a.useEffect)((function(){var e=!0,t=v.a.CancelToken.source();e&&s(!0);var n={Authorization:"Token ".concat(localStorage.getItem("TOKEN"))};return v.a.get("/api/watchlist/",{headers:n,cancelToken:t.token}).then((function(t){var n=t.data,a=function(e){var t={watch:[],watching:[],watched:[]},n=function(n){for(var a=t[n],c=e.filter((function(e){return e.status===n}));0!==c.length;)if(0===a.length){var s=c.findIndex((function(e){return null===e.next_item_id})),i=c.splice(s,1)[0];a.unshift(i)}else!function(){var e=a[0],t=c.findIndex((function(t){return t.next_item_id===e.id})),n=c.splice(t,1)[0];a.unshift(n)}()};for(var a in t)n(a);return t},c=n.filter((function(e){return"anime"===e.type})),s=n.filter((function(e){return"manga"===e.type}));e&&(w(a(c)),I(a(s)))})).catch((function(e){v.a.isCancel(e)?console.log("fetch watchlist canceled."):e.response?401===e.response.status&&y.push("/logout"):console.log(e)})).finally((function(){e&&s(!1)})),function(){e=!1,t.cancel()}}),[w,I,y]),Object(a.useEffect)((function(){var e=!0,t=v.a.CancelToken.source();return e&&l(!0),g.get("season",{cancelToken:t.token}).then((function(t){e&&p(t.data.anime)})).catch((function(e){v.a.isCancel(e)?console.log("fetch airing anime canceled."):console.log(e)})).finally((function(){e&&l(!1)})),function(){e=!1,t.cancel()}}),[]),f?Object(d.jsxs)("div",{className:"Home",children:[Object(d.jsx)(k,{}),Object(d.jsx)(T,{children:Object(d.jsxs)(j.d,{children:[Object(d.jsx)(j.b,{path:"/watchlist",children:Object(d.jsx)(D,{isFetchingWatchlist:c})}),Object(d.jsx)(j.b,{path:"/browse",children:Object(d.jsx)(X,{airingAnime:m,isFetchingAiringAnime:o})}),Object(d.jsx)(j.b,{exact:!0,path:"/",children:Object(d.jsx)(j.a,{to:"/watchlist"})}),Object(d.jsx)(j.b,{path:"*",children:Object(d.jsx)(j.a,{to:"/404"})})]})})]}):Object(d.jsx)(j.a,{to:"/logout"})};n(93);var Z=function(e){return Object(d.jsx)("form",{className:"Form",onSubmit:e.onSubmit,children:e.children})};n(94);var $=function(e){return Object(d.jsx)("h2",{className:"Form-header",children:e.title})};n(95);var ee=function(e){return Object(d.jsx)("ul",{className:"FormErrorList",children:e.errors.map((function(e,t){return Object(d.jsx)("li",{className:"FormErrorList-item",children:e},t)}))})};n(96);var te=function(e){return Object(d.jsx)("input",{className:"Form-field",type:e.type,placeholder:e.fieldname,onChange:e.onChange})};n(97);var ne=function(e){return Object(d.jsx)("button",{className:"Form-button Form-button--"+e.classType,type:e.buttonType,onClick:e.onClick,children:e.text})};var ae=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),r=Object(u.a)(i,2),o=r[0],l=r[1],b=Object(a.useState)([]),h=Object(u.a)(b,2),m=h[0],p=h[1],x=Object(a.useContext)(O).setIsAuthenticated,f=Object(j.g)();return Object(d.jsxs)(Z,{onSubmit:function(e){e.preventDefault(),function(){var e=[];return""===c&&e.push("Username is required."),""===o&&e.push("Password is required."),p(e),0===e.length}()&&v.a.post("/api/auth/login/",{username:c,password:o}).then((function(e){localStorage.setItem("TOKEN",e.data.token),x(!0),f.push("/watchlist")})).catch((function(e){if(e.response){var t=[];e.response.data.non_field_errors&&t.push(e.response.data.non_field_errors),p(t)}else f.push("/server-error")}))},children:[Object(d.jsx)($,{title:"Sign In"}),0!==m.length?Object(d.jsx)(ee,{errors:m}):null,Object(d.jsx)(te,{type:"text",fieldname:"username",onChange:function(e){s(e.target.value)}}),Object(d.jsx)(te,{type:"password",fieldname:"password",onChange:function(e){l(e.target.value)}}),Object(d.jsx)(ne,{classType:"primary",buttonType:"submit",text:"Sign In"}),Object(d.jsx)("p",{children:"or"}),Object(d.jsx)(ne,{classType:"secondary",buttonType:"button",text:"Sign Up",onClick:e.swapFormComponent})]})};var ce=function(e){var t=Object(a.useState)(""),n=Object(u.a)(t,2),c=n[0],s=n[1],i=Object(a.useState)(""),r=Object(u.a)(i,2),o=r[0],l=r[1],b=Object(a.useState)(""),h=Object(u.a)(b,2),m=h[0],p=h[1],x=Object(a.useState)([]),f=Object(u.a)(x,2),g=f[0],N=f[1],w=Object(a.useContext)(O).setIsAuthenticated,I=Object(j.g)();return Object(d.jsxs)(Z,{onSubmit:function(e){if(e.preventDefault(),function(){var e=[];return""===c&&e.push("Username is required."),""===o&&e.push("Password is required."),""===m&&e.push("Confirm Password is required."),o&&m&&o!==m&&e.push("Passwords didn't match."),N(e),0===e.length}()){var t={username:c,password:o};v.a.post("/api/auth/register/",t).then((function(e){v.a.post("/api/auth/login/",t).then((function(e){localStorage.setItem("TOKEN",e.data.token),w(!0),I.push("/watchlist")})).catch((function(e){if(e.response){var t=[];e.response.data.non_field_errors&&t.push(e.response.data.non_field_errors),N(t)}else I.push("/server-error")}))})).catch((function(e){if(e.response){var t=[];e.response.data.username&&t.push(e.response.data.username),N(t)}else I.push("/server-error")}))}},children:[Object(d.jsx)($,{title:"Sign Up"}),0!==g.length?Object(d.jsx)(ee,{errors:g}):null,Object(d.jsx)(te,{type:"text",fieldname:"username",onChange:function(e){s(e.target.value)}}),Object(d.jsx)(te,{type:"password",fieldname:"password",onChange:function(e){l(e.target.value)}}),Object(d.jsx)(te,{type:"password",fieldname:"confirm password",onChange:function(e){p(e.target.value)}}),Object(d.jsx)(ne,{classType:"primary",buttonType:"submit",text:"Sign Up"}),Object(d.jsx)("p",{children:"or"}),Object(d.jsx)(ne,{classType:"secondary",buttonType:"button",text:"Sign In",onClick:e.swapFormComponent})]})};n(98);var se=function(e){var t=Object(a.useState)(!0),n=Object(u.a)(t,2),c=n[0],s=n[1],i=function(){s((function(e){return!e}))};return Object(a.useContext)(O).isAuthenticated?Object(d.jsx)(j.a,{to:"/watchlist"}):Object(d.jsxs)("div",{className:"Auth",children:[Object(d.jsxs)("div",{className:"AuthHeader",children:[Object(d.jsx)("h1",{className:"AuthHeader-title",children:"Project Otaku"}),Object(d.jsx)("p",{className:"AuthHeader-details",children:"Create and manage your anime and manga list."})]}),Object(d.jsx)("div",{className:"UserForm",children:c?Object(d.jsx)(ae,{swapFormComponent:i}):Object(d.jsx)(ce,{swapFormComponent:i})})]})};n(99);var ie=function(e){return Object(d.jsxs)("div",{className:"ServerError",children:[Object(d.jsx)("h1",{children:"There seems to be a problem with the server. Please try again later."}),Object(d.jsx)(l.b,{to:"/",children:"Go back."})]})};var re=function(e){var t=Object(a.useContext)(O).setIsAuthenticated,n=Object(j.g)();return Object(a.useEffect)((function(){var e={Authorization:"Token ".concat(localStorage.getItem("TOKEN"))};v.a.post("/api/auth/logout/",null,{headers:e}).catch((function(e){})),localStorage.removeItem("TOKEN"),t(!1),n.push("/auth")}),[t,n]),Object(d.jsx)("div",{children:Object(d.jsx)("h1",{children:"Logging out."})})};n(100);var oe=function(e){return Object(d.jsxs)("div",{className:"PageNotFound",children:[Object(d.jsx)("h1",{children:"Page Not Found."}),Object(d.jsx)(l.b,{to:"/",children:"Back to homepage."})]})};var le=function(){return Object(d.jsx)(h,{children:Object(d.jsx)(p,{children:Object(d.jsx)(l.a,{children:Object(d.jsxs)(j.d,{children:[Object(d.jsx)(j.b,{path:"/auth",children:Object(d.jsx)(se,{})}),Object(d.jsx)(j.b,{path:"/logout",children:Object(d.jsx)(re,{})}),Object(d.jsx)(j.b,{path:"/server-error",children:Object(d.jsx)(ie,{})}),Object(d.jsx)(j.b,{path:"/404",children:Object(d.jsx)(oe,{})}),Object(d.jsx)(j.b,{path:"/",children:Object(d.jsx)(Y,{})})]})})})})};r.b.add(o.c,o.a,o.b),i.a.render(Object(d.jsx)(c.a.StrictMode,{children:Object(d.jsx)(le,{})}),document.getElementById("root"))}]),[[101,1,2]]]);
//# sourceMappingURL=main.90b53cfb.chunk.js.map